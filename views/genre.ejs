<!DOCTYPE html>
<head>
  <title>MyMovieBox</title>
  <link rel="stylesheet" href="/shared-styles.css">
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Genre: <%= genre %></h1>
      <h2>Movies in this genre</h2>
    </div>

    <nav class="nav">
      <a href="/movies" class="nav-link">‚Üê Movies</a>
      <a href="/collections" class="nav-link">Collections</a>
      <a href="/" class="nav-link">Home</a>
    </nav>

    <div class="grid">
      <% movies.map((movie) => { %>
        <div class="movie-card">
          <div class="movie-image">
            <% if(movie.imgurl) { %>
              <img src="<%= movie.imgurl %>" alt="<%= movie.name %>" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
              <div style="display: none;">No Image</div>
            <% } else { %>
              <div>No Image</div>
            <% } %>
          </div>
          <div class="movie-content">
            <div class="movie-title"><%= movie.name %></div>
            <div class="movie-actions">
              <a href="/movies/<%= movie.movie_id %>" class="btn btn-primary">Movie Details</a>
            </div>
          </div>
        </div>
      <% }) %>
    </div>
  </div>
</body>
</html>